# =============================================================================
# AVAPIGW Test Environment Configuration
# =============================================================================
# Copy this file to .env.local and update values for your environment.
# Then source it before running tests: source .env.local
#
# For more information, see docs/testing.md
# =============================================================================

# -----------------------------------------------------------------------------
# Vault Configuration
# -----------------------------------------------------------------------------
# Vault server address
# Default: http://localhost:8200
TEST_VAULT_ADDR=http://localhost:8200

# Vault root token for test setup
# Required for Vault tests - no default value
# WARNING: Do not commit real tokens to version control
TEST_VAULT_TOKEN=myroot

# Vault Kubernetes authentication role name
# Default: avapigw-test
TEST_VAULT_ROLE=avapigw-test

# -----------------------------------------------------------------------------
# Kubernetes Configuration
# -----------------------------------------------------------------------------
# Kubernetes API server address
# Default: https://127.0.0.1:6443
TEST_K8S_API_SERVER=https://127.0.0.1:6443

# Kubernetes CA certificate (PEM format)
# Optional - uses default kubeconfig CA if not set
# TEST_K8S_CA_CERT=

# -----------------------------------------------------------------------------
# Keycloak Configuration
# -----------------------------------------------------------------------------
# Keycloak server URL
# Default: http://localhost:8080
TEST_KEYCLOAK_URL=http://localhost:8080

# Keycloak admin username
# Default: admin
TEST_KEYCLOAK_ADMIN=admin

# Keycloak admin password
# Default: admin
# WARNING: Do not commit real passwords to version control
TEST_KEYCLOAK_PASSWORD=admin

# Test realm name in Keycloak
# Default: avapigw-test
TEST_KEYCLOAK_REALM=avapigw-test

# OAuth2 client ID for testing
# Default: avapigw-test-client
TEST_KEYCLOAK_CLIENT_ID=avapigw-test-client

# OAuth2 client secret
# Required for OAuth2 tests - no default value
# WARNING: Do not commit real secrets to version control
TEST_KEYCLOAK_CLIENT_SECRET=

# -----------------------------------------------------------------------------
# Test Configuration
# -----------------------------------------------------------------------------
# Kubernetes namespace for E2E tests
# Default: avapigw-e2e-test
TEST_NAMESPACE=avapigw-e2e-test

# -----------------------------------------------------------------------------
# Skip Flags
# -----------------------------------------------------------------------------
# Set to 'true' to skip specific test categories
# Useful when infrastructure is not available

# Skip all E2E tests
# Default: false
SKIP_E2E=false

# Skip Vault-related tests
# Default: false
SKIP_VAULT_TESTS=false

# Skip Keycloak-related tests
# Default: false
SKIP_KEYCLOAK_TESTS=false

# -----------------------------------------------------------------------------
# Example Configurations for Different Environments
# -----------------------------------------------------------------------------

# --- Local Development (Docker) ---
# TEST_VAULT_ADDR=http://localhost:8200
# TEST_KEYCLOAK_URL=http://localhost:8080

# --- Remote Development Server ---
# TEST_VAULT_ADDR=http://192.168.0.61:8200
# TEST_KEYCLOAK_URL=http://192.168.0.61:8080

# --- CI/CD Environment ---
# TEST_VAULT_ADDR=http://vault.ci.internal:8200
# TEST_KEYCLOAK_URL=http://keycloak.ci.internal:8080
# TEST_K8S_API_SERVER=https://kubernetes.ci.internal:6443
